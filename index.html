<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🎂 Happy Birthday Elza 💖</title>
  <style>
    body {
      margin: 0;
      font-family: "Comic Sans MS", "Chalkboard SE", "Marker Felt", cursive, sans-serif;
      background: linear-gradient(135deg, #ffb6c1, #b3e5fc);
      /* 🌟 PERUBAHAN: Dibuat agar tidak bisa di-scroll di body */
      height: 100vh;
      overflow: hidden; 
      display: flex;
      flex-direction: column;
      justify-content: flex-start; 
      align-items: center;
      text-align: center;
      padding: 10px 20px;
      box-sizing: border-box;
      position: relative; 
      cursor: default; 
    }

    body.login-active {
        justify-content: center; 
    }

    /* Canvas untuk efek background interaktif */
    #interactiveBgCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -3; 
        pointer-events: none; 
    }

    .birthday-pattern-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='5' y='40' font-family='Comic Sans MS, cursive' font-size='18' fill='%23ffb6c1' opacity='0.3'%3EHappy%3C/text%3E%3Ctext x='15' y='70' font-family='Comic Sans MS, cursive' font-size='18' fill='%23b3e5fc' opacity='0.3'%3EBirthday!%3C/text%3E%3C/svg%3E");
      background-size: 200px 200px;
      opacity: 0.4;
      z-index: -2; 
      animation: movePattern 60s linear infinite;
    }
    @keyframes movePattern {
      from { background-position: 0 0; }
      to { background-position: 200px 200px; }
    }

    /* Balon Latar Belakang */
    .background-balloons {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      margin: 0;
      padding: 0;
      list-style: none;
      overflow: hidden;
    }
    .background-balloons li {
      position: absolute;
      bottom: -150px;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      animation: floatUp 25s infinite linear;
      opacity: 0;
    }
    .background-balloons li:nth-child(1) { left: 10%; width: 50px; height: 50px; animation-duration: 20s; animation-delay: 0s; background: rgba(255, 200, 220, 0.3); }
    .background-balloons li:nth-child(2) { left: 20%; width: 30px; height: 30px; animation-duration: 17s; animation-delay: 2s; background: rgba(180, 220, 255, 0.3); }
    .background-balloons li:nth-child(3) { left: 35%; width: 60px; height: 60px; animation-duration: 22s; animation-delay: 0s; background: rgba(255, 240, 180, 0.3); }
    .background-balloons li:nth-child(4) { left: 50%; width: 40px; height: 40px; animation-duration: 18s; animation-delay: 5s; background: rgba(255, 200, 220, 0.3); }
    .background-balloons li:nth-child(5) { left: 65%; width: 50px; height: 50px; animation-duration: 20s; animation-delay: 0s; background: rgba(180, 220, 255, 0.3); }
    .background-balloons li:nth-child(6) { left: 80%; width: 30px; height: 30px; animation-duration: 24s; animation-delay: 3s; background: rgba(255, 240, 180, 0.3); }
    .background-balloons li:nth-child(7) { left: 90%; width: 45px; height: 45px; animation-duration: 19s; animation-delay: 7s; background: rgba(255, 200, 220, 0.3); }
    .background-balloons li:nth-child(8) { left: 55%; width: 35px; height: 35px; animation-duration: 21s; animation-delay: 4s; background: rgba(180, 220, 255, 0.3); }

    @keyframes floatUp {
      0% { transform: translateY(0); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-120vh); opacity: 0; }
    }
    
    .sparkle-trail {
        position: absolute;
        width: 6px;
        height: 6px;
        background: white;
        border-radius: 50%;
        box-shadow: 0 0 10px white, 0 0 15px white;
        pointer-events: none;
        z-index: 9999;
        opacity: 0;
        transform: translate(-50%, -50%);
        animation: fadeOut 0.5s forwards;
    }
    @keyframes fadeOut {
        to {
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
        }
    }


    .hidden {
      display: none;
    }

    
    /* 🌟 PERBAIKAN: Style Halaman (non-login) */
    #loginPage, #giftPage, #surprise {
      transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
      width: 100%;
      max-width: 800px; /* Lebar web dikecilkan */
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 0px; 
      padding-top: 5px; 
    }
    
    /* 🌟 PERBAIKAN: Kontainer halaman dibuat setinggi layar agar muat */
    #giftPage, #surprise {
        height: 90vh; /* Ambil tinggi layar */
        justify-content: center; /* Pusatkan konten secara vertikal */
    }

    /* 🌟 PERBAIKAN: Style untuk #login-card (kartu) dipisah */
    #login-card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(255, 182, 193, 0.6);
      padding: 30px;
      width: 90%;
      max-width: 400px; /* Dikembalikan ke 400px */
    }


    #giftPage, #surprise {
      opacity: 0;
      transform: scale(0.95);
    }
    
    .shake {
      animation: shake 0.5s ease-in-out;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-8px); }
      40%, 80% { transform: translateX(8px); }
    }

    input {
      width: 80%;
      padding: 10px;
      margin: 10px;
      border: 2px solid pink;
      border-radius: 10px;
      outline: none;
      text-align: center;
      font-size: 16px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    input:focus {
      border-color: #ff9ecd;
      box-shadow: 0 0 8px rgba(255, 158, 205, 0.5);
    }

    .error-msg {
      color: #d9534f;
      font-size: 14px;
      font-weight: bold;
      height: 18px;
      margin-top: 5px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .error-msg.visible {
      opacity: 1;
    }

    button {
      background: linear-gradient(90deg, #ff9ecd, #9cd4ff);
      border: none;
      color: white;
      font-weight: bold;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      transition: transform 0.2s ease;
      margin-top: 10px;
    }

    #login-card button {
        animation: buttonPulse 2s infinite ease-in-out;
    }
    @keyframes buttonPulse {
        0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 158, 205, 0.3); }
        50% { transform: scale(1.03); box-shadow: 0 0 20px rgba(255, 158, 205, 0.7); }
    }
    
    #giftPage p {
        animation: breathe 2.5s infinite ease-in-out;
    }
    @keyframes breathe {
        0%, 100% { opacity: 0.7; }
        50% { opacity: 1; }
    }

    button:hover { transform: scale(1.05); }

    .gift {
      width: 160px;
      animation: bounce 1.2s infinite ease-in-out; 
      cursor: pointer;
      margin-top: 20px; 
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    .gift:hover {
      transform: scale(1.1);
      transition: 0.3s;
    }

    /* Layout dirapatkan */
    .cake-container {
      position: relative;
      display: inline-block;
      margin-top: 0; 
      animation: fadeInUp 1s ease;
      filter: drop-shadow(0 10px 15px rgba(0,0,0,0.2)); 
    }

    .cake-container:after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        border-radius: 15px;
        box-shadow: 0 0 0 rgba(255, 182, 193, 0.7);
        animation: pulse 2s infinite ease-out;
        z-index: 1;
        pointer-events: none;
    }
    @keyframes pulse {
        0% { transform: scale(1); opacity: 0.7; }
        70% { transform: scale(1.05); opacity: 0; }
        100% { transform: scale(1); opacity: 0; }
    }

    .cake {
      /* Ukuran dikecilkan */
      width: 220px;
      border-radius: 15px;
      z-index: 2;
      position: relative;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .sparkle {
      position: absolute;
      width: 10px;
      height: 10px;
      background: radial-gradient(circle, #fff 30%, transparent 70%);
      border-radius: 50%;
      opacity: 0;
      animation: sparkle 2s infinite ease-in-out;
      pointer-events: none;
    }

    @keyframes sparkle {
      0% { transform: scale(0); opacity: 0; }
      30% { transform: scale(1.4); opacity: 1; }
      70% { transform: scale(1); opacity: 0.8; }
      100% { transform: scale(0); opacity: 0; }
    }
    
    /* Font size dirapatkan */
    h1 { color: #ff4b91; font-size: 24px; margin-bottom: 10px; margin-top: 5px;}
    h2 { color: #59a7ff; font-size: 18px; margin-top: 0; margin-bottom: 5px; } /* Margin bottom dikurangi */

    .quote-text {
      /* Ukuran dan margin diatur untuk flexbox */
      font-size: 15px;
      color: #777;
      margin-top: 0; 
      font-style: italic;
      max-width: 280px; 
      text-align: left; 
      line-height: 1.4;
    }
    
    /* Animasi Reveal Teks H1 */
    .reveal-text {
        opacity: 0; 
        position: relative;
    }
    .reveal-text > span {
        display: inline-block;
        opacity: 0;
        transform: translateY(20px);
        animation: revealLetter 0.5s cubic-bezier(0.215, 0.610, 0.355, 1) forwards;
    }
    @keyframes revealLetter {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }


    /* Layout Action Cards */
    .action-cards {
      display: flex;
      flex-wrap: wrap; 
      justify-content: center;
      gap: 10px; /* Gap dikecilkan */
      /* Layout dirapatkan */
      margin-top: 10px; 
      margin-bottom: 0;
      max-width: 540px; /* Disesuaikan dengan tombol baru */
    }
    
    .action-btn {
      border: none;
      border-radius: 20px;
      color: white;
      font-family: "Comic Sans MS", cursive, sans-serif;
      font-size: 13px; /* Dikecilkan */
      font-weight: bold;
      /* Ukuran dikecilkan */
      width: 120px; 
      height: 90px; 
      padding: 10px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      text-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    .action-btn:hover {
      transform: scale(1.05) translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }
    .action-btn .emoji-icon {
      font-size: 32px; /* Dikecilkan */
      line-height: 1;
      margin-bottom: 5px; 
    }
    .action-btn .button-text {
      font-size: 13px; /* Dikecilkan */
      line-height: 1.2;
    }
    
    .action-btn:nth-child(1) { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
    .action-btn:nth-child(2) { background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%); }
    .action-btn:nth-child(3) { background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); }
    .action-btn:nth-child(4) { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); }
    
    /* Kontainer untuk Kue + Quote */
    .surprise-bottom {
      display: flex;
      flex-wrap: wrap; 
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-top: 15px; /* Jarak dari kartu ke grup bawah */
      width: 100%;
    }
    
    
    /* Modal (Popup) Styling (UNTUK 3 KARTU LAINNYA) */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s;
    }
    .modal-overlay.visible {
      opacity: 1;
      visibility: visible;
    }
    
    .modal-content {
      background: linear-gradient(160deg, #ffffff 0%, #fefefe 100%);
      padding: 25px;
      border-radius: 20px;
      width: 90%;
      max-width: 480px; 
      position: relative;
      max-height: 85vh;
      overflow-y: auto;
      transform: scale(0.9);
      transition: transform 0.3s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    .modal-overlay.visible .modal-content {
      transform: scale(1);
    }
    
    .modal-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 28px;
      font-weight: bold;
      color: #aaa;
      cursor: pointer;
    }
    .modal-close:hover {
      color: #333;
    }
    
    .modal-content h2 {
      color: #ff4b91;
      border-bottom: 3px solid #fde7f0;
      padding-bottom: 10px;
      margin-top: 5px;
    }
    
    /* Galeri Foto (GRID) */
    .gallery-text {
        font-size: 16px;
        color: #555;
        margin-bottom: 15px;
        text-align: center;
        line-height: 1.5;
    }
    .photos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px; 
      margin-top: 20px;
      justify-items: center;
      width: 90%; 
      max-width: 700px; 
    }
    
    .photos-grid figure {
        margin: 0;
        padding: 0;
        width: 100%;
        transition: transform 0.3s ease;
    }
    .photos-grid figure:hover {
        transform: scale(1.05); 
    }
    
    .photos-grid img {
      width: 100%;
      height: auto;
      aspect-ratio: 1/1; 
      object-fit: cover; 
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(255, 182, 193, 0.4);
      transition: box-shadow 0.3s ease;
      border: 3px solid transparent; 
    }
    
    .photos-grid figure:nth-child(3n+1) img { border-color: #ff9a9e; }
    .photos-grid figure:nth-child(3n+2) img { border-color: #a1c4fd; }
    .photos-grid figure:nth-child(3n) img { border-color: #84fab0; }

    .photos-grid figure:hover img {
      box-shadow: 0 0 15px rgba(255, 182, 193, 0.8);
    }
    
    .photos-grid figcaption {
        font-size: 12px;
        color: #555;
        font-weight: bold;
        margin-top: 5px;
        text-align: center;
        line-height: 1.2;
    }

    /* Style untuk "Surat Ucapan" */
    .wish-letter {
      font-size: 17px;
      color: #333; 
      text-align: left;
      line-height: 1.7; 
      white-space: pre-wrap;
      background: #fffafb; 
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #fde7f0; 
      box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
      margin-top: 15px;
    }
    
    /* Desain Playlist */
    .playlist {
      list-style-type: none;
      padding-left: 0;
      text-align: left;
    }
    .playlist li {
      font-size: 16px;
      color: #333;
      padding: 12px 15px;
      border-radius: 8px;
      margin-bottom: 8px;
      background: #f9f9f9;
      display: flex;
      align-items: center;
      transition: background-color 0.2s;
    }
    .playlist li:hover {
      background-color: #f0f0f0;
    }
    .playlist li::before {
      content: '🎵';
      margin-right: 12px;
      font-size: 18px;
      opacity: 0.8;
    }
    
    /* Desain Voucher (Tiket Sobek) */
    .voucher-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 15px;
    }
    .voucher {
      background: #fff8f9;
      border-radius: 10px;
      padding: 20px;
      font-size: 16px;
      font-weight: bold;
      color: #d9534f;
      position: relative;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .voucher::before {
      content: '';
      position: absolute;
      top: 0;
      left: -5px; 
      bottom: 0;
      width: 10px;
      background: radial-gradient(circle at 0 10px, transparent 4px, #fff8f9 5px) repeat-y;
      background-size: 10px 20px;
    }
    .voucher::after {
      content: '';
      position: absolute;
      top: 0;
      right: -5px; 
      bottom: 0;
      width: 10px;
      background: radial-gradient(circle at 10px 10px, transparent 4px, #fff8f9 5px) repeat-y;
      background-size: 10px 20px;
    }
    
    /* Styling untuk Halaman Galeri Penuh */
    #galleryPage {
      transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
      width: 100%;
      max-width: 800px; /* Lebar web dikecilkan */
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 0px; 
      padding-top: 10px;
      opacity: 0;
      transform: scale(0.95);
      /* 🌟 PERUBAHAN: Halaman galeri boleh di-scroll */
      height: 90vh;
      overflow-y: auto;
    }
    #galleryPage h2 {
      color: #ff4b91;
      border-bottom: 3px solid #fde7f0;
      padding-bottom: 10px;
      margin-top: 5px;
      font-size: 28px;
    }
    #galleryCloseButton {
      background: linear-gradient(90deg, #ff9ecd, #9cd4ff);
      border: none;
      color: white;
      font-weight: bold;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      transition: transform 0.2s ease;
      margin-top: 30px; 
      margin-bottom: 30px; 
      font-size: 16px;
      font-family: "Comic Sans MS", cursive, sans-serif;
    }
    #galleryCloseButton:hover {
        transform: scale(1.05);
    }

  </style>
</head>
<body class="login-active">
  <canvas id="interactiveBgCanvas"></canvas> 
  <div class="birthday-pattern-overlay"></div>

  <ul class="background-balloons">
    <li></li> <li></li> <li></li> <li></li> <li></li>
    <li></li> <li></li> <li></li>
  </ul>

  <div id="loginPage">
    <div id="login-card">
      <h1>🎀 Halo! 🎀</h1>
      <p>Masukkan nama & tanggal ulang tahun ya 💕</p>
      <input type="text" id="name" placeholder="Nama lengkap">
      <input type="text" id="birthday" placeholder="Tanggal (dd-mm-yyyy)">
      <p id="error-msg" class="error-msg"></p>
      <button onclick="checkBirthday()">Masuk 🎁</button>
    </div>
  </div>

  <div id="giftPage" class="hidden">
    <h1>Hai Elza 💖</h1>
    <p>Klik kadonya untuk membuka kejutan 🎂</p>
    <img id="giftImage" src="kado.png" alt="Kado Ulang Tahun" class="gift" onclick="explodeGift()">
  </div>

  <div id="surprise" class="hidden">
    <h1 class="reveal-text" id="main-greeting">🎉 Selamat Ulang Tahun, Elza Savira Chairani Zakaria 🎂</h1>
    <h2>26 Oktober 2025</h2>

    <div class="action-cards">
      <button class="action-btn" onclick="showGalleryPage()">
        <span class="emoji-icon">🖼️</span><span class="button-text">Foto Sayangku</span>
      </button>
      <button class="action-btn" onclick="showModal('modal-wish')">
        <span class="emoji-icon">💖</span><span class="button-text">Ucapan Ulang Tahun</span>
      </button>
      <button class="action-btn" onclick="showModal('modal-playlist')">
        <span class="emoji-icon">🎶</span><span class="button-text">Lagu Buat Cantikku</span>
      </button>
      <button class="action-btn" onclick="showModal('modal-voucher')">
        <span class="emoji-icon">🎁</span><span class="button-text">Voucher Dating Nanti Waktu Ketemu</span>
      </button>
    </div>

    <div class="surprise-bottom">
      <div class="cake-container" id="cakeContainer">
        <img id="cakeImage" src="kue.png" alt="Kue Ulang Tahun" class="cake">
      </div>
      <p class="quote-text">
        "Semoga hari ini menjadi awal dari tahun yang penuh keajaiban dan cinta!"
      </p>
    </div>
    
  </div>

  
  <div id="galleryPage" class="hidden">
    <h2>Galeri Foto Sayangku 💖</h2>
      
    <p class="gallery-text">
      Setiap momen bersamamu adalah kenangan indah. Ini beberapa di antaranya:
    </p>

    <div class="photos-grid">
      <figure>
        <img src="foto 1.jpeg" alt="Foto 1">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 2.jpeg" alt="Foto 2">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 3.jpeg" alt="Foto 3">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 4.jpeg" alt="Foto 4">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 5.jpeg" alt="Foto 5">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 6.jpeg" alt="Foto 6">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 7.jpeg" alt="Foto 7">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 8.jpeg" alt="Foto 8">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 9.jpeg" alt="Foto 9">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 10.jpeg" alt="Foto 10">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 11.jpeg" alt="Foto 11">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 12.jpeg" alt="Foto 12">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 13.jpeg" alt="Foto 13">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 14.jpeg" alt="Foto 14">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 15.jpeg" alt="Foto 15">
        <figcaption>foto ayang</figcaption>
      </figure>
    </div>

    <p class="gallery-text" style="margin-top: 20px;">
      Masih banyak lagi cerita kita yang akan terukir. Aku tak sabar menunggu semuanya!
    </p>
    
    <button id="galleryCloseButton" onclick="hideGalleryPage()">Kembali</button>
  </div>


  <div id="modal-wish" class="modal-overlay hidden" onclick="closeModal('modal-wish', event)">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('modal-wish')">&times;</span>
      <h2>Untuk Elza Tersayang...</h2>
      <p class="wish-letter">
Selamat ulang tahun ya, sayang!

Semoga di hari yang spesial ini, kamu dikelilingi oleh semua cinta, tawa, dan kebahagiaan di dunia. Kamu adalah orang yang luar biasa, dan aku sangat bersyukur memilikimu.

Semoga semua impian dan cita-citamu tercapai. Aku akan selalu ada di sini untuk mendukungmu, di setiap langkahmu.

Love you always 💕
      </p>
    </div>
  </div>

  <div id="modal-playlist" class="modal-overlay hidden" onclick="closeModal('modal-playlist', event)">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('modal-playlist')">&times;</span>
      <h2>Playlist Hari Ini 🎧</h2>
      <ul class="playlist">
        <li>"Lover" - Taylor Swift</li>
        <li>"A Thousand Years" - Christina Perri</li>
        <li>"Sempurna" - Andra and The BackBone</li>
        <li>"Here's Your Perfect" - Jamie Miller</li>
        <li>"Satu-satunya" - HIVI!</li>
        <li>"Sahabat Dulu" - Prinsa Mandagie</li>
        <li>"Tak Ingin Usai" - Keisya Levronka</li>
      </ul>
      <p style="text-align:center; margin-top:15px;">...dan semua lagu yang mengingatkanku padamu!</p>
    </div>
  </div>

  <div id="modal-voucher" class="modal-overlay hidden" onclick="closeModal('modal-voucher', event)">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('modal-voucher')">&times;</span>
      <h2>Voucher Dating Spesial 🎟️</h2>
      <div class="voucher-list">
        <div class="voucher">Jatah 1x Traktiran Es Krim (Bebas Pilih!)</div>
        <div class="voucher">Jatah 1x Nonton Film di Bioskop (Kamu yang Pilih Film)</div>
        <div class="voucher">Jatah 1x Jalan-jalan Seharian (Tanpa Ngeluh!)</div>
        <div class="voucher">Jatah 1x Ditemenin Belanja</div>
      </div>
      <p style="text-align:center; margin-top:15px; font-size: 14px; color: #888;">*Berlaku selamanya, tidak bisa diuangkan, dan harus diklaim ya! 😉</p>
    </div>
  </div>


  <script>
    function checkBirthday() {
      const name = document.getElementById("name").value.trim().toLowerCase();
      const birthday = document.getElementById("birthday").value.trim();
      const correctName = "elza savira chairani zakaria";
      const correctBirthday = "26-10-2025";
      
      const loginPage = document.getElementById("loginPage"); // 🌟 PERBAIKAN: Target #loginPage
      const giftPage = document.getElementById("giftPage");
      const errorMsg = document.getElementById("error-msg");

      if (name === correctName && birthday === correctBirthday) {
        errorMsg.classList.remove("visible");
        
        loginPage.style.opacity = '0';
        loginPage.style.transform = 'scale(0.95)';
        document.body.classList.remove('login-active'); 

        setTimeout(() => {
          loginPage.classList.add("hidden");
          giftPage.classList.remove("hidden");

          setTimeout(() => {
            giftPage.style.opacity = '1';
            giftPage.style.transform = 'scale(1)';
          }, 20);

        }, 500);
        
      } else {
        errorMsg.textContent = "Coba isi nama & tanggal yang benar ya 💕";
        errorMsg.classList.add("visible");
        // 🌟 PERBAIKAN: Target #login-card untuk shake
        document.getElementById("login-card").classList.add("shake");
        setTimeout(() => {
          document.getElementById("login-card").classList.remove("shake");
        }, 500);
      }
    }

    function explodeGift() {
      const gift = document.getElementById("giftImage");
      gift.style.animation = "none"; 
      
      const rect = gift.getBoundingClientRect();
      const originX = (rect.left + rect.width / 2) / window.innerWidth;
      const originY = (rect.top + rect.height / 2) / window.innerHeight;

      confetti({
        particleCount: 150,
        spread: 100,
        origin: { x: originX, y: originY },
        startVelocity: 60,
        colors: ["#ff9ecd", "#9cd4ff", "#fff5a5", "#ffffff"]
      });

      const duration = 2000;
      const end = Date.now() + duration;

      (function frame() {
        confetti({
          particleCount: 3,
          startVelocity: 40,
          spread: 60,
          origin: { x: 0, y: 0.7 },
          colors: ["#ff9ecd", "#9cd4ff"]
        });
        confetti({
          particleCount: 3,
          startVelocity: 40,
          spread: 60,
          origin: { x: 1, y: 0.7 },
          colors: ["#ff9ecd", "#9cd4ff"]
        });

        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      }());


      setTimeout(() => {
        const giftPage = document.getElementById("giftPage");
        const surprisePage = document.getElementById("surprise");
        
        giftPage.style.opacity = '0';
        giftPage.style.transform = 'scale(0.95)';

        setTimeout(() => {
          giftPage.classList.add("hidden");
          surprisePage.classList.remove("hidden");

          setTimeout(() => {
            surprisePage.style.opacity = '1';
            surprisePage.style.transform = 'scale(1)';
            
            animateTextReveal('main-greeting');
          }, 20);

          addSparkles();
        }, 500);

      }, 2000);
    }

    function addSparkles() {
      const container = document.getElementById("cakeContainer");
      if (container.querySelectorAll('.sparkle').length > 0) return; 

      for (let i = 0; i < 20; i++) {
        const sparkle = document.createElement("div");
        sparkle.classList.add("sparkle");
        sparkle.style.left = `${Math.random() * 100}%`;
        sparkle.style.top = `${Math.random() * 100}%`;
        sparkle.style.animationDelay = `${Math.random() * 2}s`;
        container.appendChild(sparkle);
      }
    }
    
    function animateTextReveal(elementId) {
        const greeting = document.getElementById(elementId);
        if (greeting.classList.contains('animated')) return;
        greeting.classList.add('animated'); 

        const text = greeting.innerText;
        greeting.innerText = ''; 
        greeting.style.opacity = 1; 

        text.split('').forEach((char, index) => {
            const span = document.createElement('span');
            span.innerText = char === ' ' ? '\u00A0' : char; 
            span.style.animationDelay = `${index * 0.05}s`; 
            greeting.appendChild(span);
        });
    }

    // Fungsi untuk Modal (Ucapan, Playlist, Voucher)
    function showModal(modalId) {
      const modal = document.getElementById(modalId);
      modal.classList.remove("hidden");
      setTimeout(() => {
        modal.classList.add("visible");
      }, 10);
    }
    
    function closeModal(modalId, event) {
      if (event && event.target !== event.currentTarget) {
        return;
      }
      
      const modal = document.getElementById(modalId);
      modal.classList.remove("visible");
      
      setTimeout(() => {
        modal.classList.add("hidden");
      }, 300);
    }

    // Jejak Kursor
    document.addEventListener('mousemove', function(e) {
        let sparkle = document.createElement('div');
        sparkle.className = 'sparkle-trail';
        document.body.appendChild(sparkle);
        
        sparkle.style.left = e.pageX + 'px';
        sparkle.style.top = e.pageY + 'px';
        
        setTimeout(() => {
            sparkle.remove();
        }, 500); 
    });

    // Background Interaktif
    const canvas = document.getElementById('interactiveBgCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const colors = ['#ffb6c1', '#b3e5fc', '#fff5a5', '#ff9a9e', '#c2e9fb', '#84fab0'];

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }

    class Particle {
        constructor(x, y, radius, color, velocity) {
            this.x = x;
            this.y = y;
            this.radius = radius;
            this.color = color;
            this.velocity = velocity;
            this.alpha = 1;
        }

        draw() {
            ctx.save();
            ctx.globalAlpha = this.alpha;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
            ctx.fillStyle = this.color;
            ctx.fill();
            ctx.restore();
        }

        update() {
            this.x += this.velocity.x;
            this.y += this.velocity.y;
            this.alpha -= 0.008; 
            this.radius -= 0.03; 

            if (this.radius < 0.1) { 
                this.alpha = 0;
            }
            this.draw();
        }
    }

    function createParticle(x, y) {
        const radius = Math.random() * 5 + 2;
        const color = colors[Math.floor(Math.random() * colors.length)];
        const angle = Math.random() * Math.PI * 2;
        const velocity = {
            x: Math.cos(angle) * (Math.random() * 1 - 0.5), 
            y: Math.sin(angle) * (Math.random() * 1 - 0.5) - 0.5 
        };
        particles.push(new Particle(x, y, radius, color, velocity));
    }

    function animateParticles() {
        requestAnimationFrame(animateParticles);
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (Math.random() < 0.3) { 
            createParticle(Math.random() * canvas.width, canvas.height + 10); 
        }

        for (let i = particles.length - 1; i >= 0; i--) {
            const particle = particles[i];
            particle.update();

            if (particle.alpha <= 0 || particle.radius <= 0.1 || particle.y < -particle.radius) {
                particles.splice(i, 1);
            }
        }
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    animateParticles();

    
    // Fungsi untuk pindah ke Halaman Galeri
    function showGalleryPage() {
        const surprisePage = document.getElementById('surprise');
        const galleryPage = document.getElementById('galleryPage');
        document.body.style.overflowY = 'auto'; // Izinkan scroll untuk galeri

        surprisePage.style.opacity = '0';
        surprisePage.style.transform = 'scale(0.95)';

        setTimeout(() => {
            surprisePage.classList.add("hidden");
            galleryPage.classList.remove("hidden");
            
            setTimeout(() => {
                galleryPage.style.opacity = '1';
                galleryPage.style.transform = 'scale(1)';
                window.scrollTo(0, 0); 
            }, 20);
        }, 500); 
    }

    // Fungsi untuk kembali dari Halaman Galeri
    function hideGalleryPage() {
        const surprisePage = document.getElementById('surprise');
        const galleryPage = document.getElementById('galleryPage');
        document.body.style.overflowY = 'hidden'; // Sembunyikan scroll lagi

        galleryPage.style.opacity = '0';
        galleryPage.style.transform = 'scale(0.95)';

        setTimeout(() => {
            galleryPage.classList.add("hidden");
            surprisePage.classList.remove("hidden");
            
            setTimeout(() => {
                surprisePage.style.opacity = '1';
                surprisePage.style.transform = 'scale(1)';
            }, 20);
        }, 500);
    }

  </script>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

</body>
</html>
