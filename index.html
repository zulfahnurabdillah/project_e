<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÇ Happy Birthday sayanggg üíñ</title>
  <style>
    /* Styling untuk Pre-loader (Layar Loading) */
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #ffb6c1, #b3e5fc);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      transition: opacity 0.5s ease-out;
      font-family: "Comic Sans MS", cursive, sans-serif;
    }
    .heart-loader {
      font-size: 50px;
      animation: heartbeat 1s infinite ease-in-out;
    }
    .loader-text {
      margin-top: 15px;
      font-size: 18px;
      color: #ff4b91;
      font-weight: bold;
    }
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }
    
    body {
      margin: 0;
      font-family: "Comic Sans MS", "Chalkboard SE", "Marker Felt", cursive, sans-serif;
      background: linear-gradient(135deg, #ffb6c1, #b3e5fc, #ff9ecd, #9cd4ff);
      background-size: 400% 400%;
      animation: moveGradient 20s ease infinite;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start; 
      align-items: center;
      text-align: center;
      overflow-x: hidden;
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
      position: relative; 
      cursor: default; 
    }

    @keyframes moveGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    body.login-active {
        justify-content: center; 
    }

    #interactiveBgCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -3; 
        pointer-events: none; 
    }

    .birthday-pattern-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='5' y='40' font-family='Comic Sans MS, cursive' font-size='18' fill='%23ffb6c1' opacity='0.3'%3EHappy%3C/text%3E%3Ctext x='15' y='70' font-family='Comic Sans MS, cursive' font-size='18' fill='%23b3e5fc' opacity='0.3'%3EBirthday!%3C/text%3E%3C/svg%3E");
      background-size: 200px 200px;
      opacity: 0.4;
      z-index: -2; 
      animation: movePattern 60s linear infinite;
    }
    @keyframes movePattern {
      from { background-position: 0 0; }
      to { background-position: 200px 200px; }
    }

    .background-balloons {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      margin: 0;
      padding: 0;
      list-style: none;
      overflow: hidden;
    }
    .background-balloons li {
      position: absolute;
      bottom: -150px;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      animation: floatUp 25s infinite linear;
      opacity: 0;
    }
    .background-balloons li:nth-child(1) { left: 10%; width: 50px; height: 50px; animation-duration: 20s; animation-delay: 0s; background: rgba(255, 200, 220, 0.3); }
    .background-balloons li:nth-child(2) { left: 20%; width: 30px; height: 30px; animation-duration: 17s; animation-delay: 2s; background: rgba(180, 220, 255, 0.3); }
    .background-balloons li:nth-child(3) { left: 35%; width: 60px; height: 60px; animation-duration: 22s; animation-delay: 0s; background: rgba(255, 240, 180, 0.3); }
    .background-balloons li:nth-child(4) { left: 50%; width: 40px; height: 40px; animation-duration: 18s; animation-delay: 5s; background: rgba(255, 200, 220, 0.3); }
    .background-balloons li:nth-child(5) { left: 65%; width: 50px; height: 50px; animation-duration: 20s; animation-delay: 0s; background: rgba(180, 220, 255, 0.3); }
    .background-balloons li:nth-child(6) { left: 80%; width: 30px; height: 30px; animation-duration: 24s; animation-delay: 3s; background: rgba(255, 240, 180, 0.3); }
    .background-balloons li:nth-child(7) { left: 90%; width: 45px; height: 45px; animation-duration: 19s; animation-delay: 7s; background: rgba(255, 200, 220, 0.3); }
    .background-balloons li:nth-child(8) { left: 55%; width: 35px; height: 35px; animation-duration: 21s; animation-delay: 4s; background: rgba(180, 220, 255, 0.3); }

    @keyframes floatUp {
      0% { transform: translateY(0); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-120vh); opacity: 0; }
    }
    
    .sparkle-trail {
        position: absolute;
        width: 6px;
        height: 6px;
        background: white;
        border-radius: 50%;
        box-shadow: 0 0 10px white, 0 0 15px white;
        pointer-events: none;
        z-index: 9999;
        opacity: 0;
        transform: translate(-50%, -50%);
        animation: fadeOut 0.5s forwards;
    }
    @keyframes fadeOut {
        to {
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
        }
    }


    .hidden {
      display: none;
    }

    .card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(255, 182, 193, 0.6);
      padding: 30px;
      width: 90%;
      max-width: 400px;
    }
    
    #login, #giftPage, #surprise {
      transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 0px; 
      padding-top: 10px; 
    }
    #login {
        margin-top: 0;
        animation: cardBreathe 3s infinite ease-in-out;
    }
    @keyframes cardBreathe {
        0%, 100% { box-shadow: 0 0 20px rgba(255, 182, 193, 0.6); }
        50% { box-shadow: 0 0 30px rgba(255, 182, 193, 0.8); }
    }

    .emoji-spin {
      display: inline-block;
      animation: spin 4s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }


    #giftPage, #surprise {
      opacity: 0;
      transform: scale(0.95);
    }
    
    .shake {
      animation: shake 0.5s ease-in-out;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-8px); }
      40%, 80% { transform: translateX(8px); }
    }

    input {
      width: 80%;
      padding: 10px;
      margin: 10px;
      border: 2px solid pink;
      border-radius: 10px;
      outline: none;
      text-align: center;
      font-size: 16px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    input:focus {
      border-color: #ff9ecd;
      box-shadow: 0 0 8px rgba(255, 158, 205, 0.5);
    }

    .error-msg {
      color: #d9534f;
      font-size: 14px;
      font-weight: bold;
      height: 18px;
      margin-top: 5px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .error-msg.visible {
      opacity: 1;
    }

    button {
      background: linear-gradient(90deg, #ff9ecd, #9cd4ff);
      border: none;
      color: white;
      font-weight: bold;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      transition: transform 0.2s ease;
      margin-top: 10px;
    }

    #login button {
        animation: buttonPulse 2s infinite ease-in-out;
    }
    @keyframes buttonPulse {
        0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 158, 205, 0.3); }
        50% { transform: scale(1.03); box-shadow: 0 0 20px rgba(255, 158, 205, 0.7); }
    }
    
    #giftPage p {
        animation: breathe 2.5s infinite ease-in-out;
    }
    @keyframes breathe {
        0%, 100% { opacity: 0.7; }
        50% { opacity: 1; }
    }
    
    .gift-prompt {
      margin-top: 15px;
      font-size: 18px;
      color: #ff4b91;
      font-weight: bold;
      animation: breathe 1.5s infinite ease-in-out;
      opacity: 1; 
    }

    button:hover { transform: scale(1.05); }

    .gift {
      width: 160px;
      animation: bounce 1.2s infinite ease-in-out; 
      cursor: pointer;
      margin-top: 20px; 
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    .gift:hover {
      transform: scale(1.1);
      transition: 0.3s;
    }

    .cake-container {
      position: relative;
      display: inline-block;
      margin-top: 20px; 
      filter: drop-shadow(0 10px 15px rgba(0,0,0,0.2)); 
    }

    .cake-container:after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        border-radius: 15px;
        box-shadow: 0 0 0 rgba(255, 182, 193, 0.7);
        animation: pulse 2s infinite ease-out;
        z-index: 1;
        pointer-events: none;
    }
    @keyframes pulse {
        0% { transform: scale(1); opacity: 0.7; }
        70% { transform: scale(1.05); opacity: 0; }
        100% { transform: scale(1); opacity: 0; }
    }

    .cake {
      width: 260px;
      border-radius: 15px;
      z-index: 2;
      position: relative;
    }
    
    .flame {
      position: absolute;
      width: 14px;
      height: 22px;
      background: radial-gradient(circle, #fff, #ffeda0 30%, #ffc107 80%);
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      top: 70px; /* Sesuaikan posisi ini */
      left: 49%; /* Sesuaikan posisi ini */
      transform: translateX(-50%);
      z-index: 3;
      box-shadow: 0 0 10px #ffc107, 0 0 15px #ffc107;
      transform-origin: bottom center;
      animation: flicker 1s infinite ease-in-out alternate;
    }
    @keyframes flicker {
      0%   { transform: scaleY(1) scaleX(1) skewY(0deg); opacity: 1; }
      50%  { transform: scaleY(0.9) scaleX(1.05) skewY(5deg); opacity: 0.8; }
      100% { transform: scaleY(1.05) scaleX(0.95) skewY(-5deg); opacity: 1; }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in-item {
        opacity: 0;
        animation: fadeInUp 0.8s ease forwards;
    }

    .sparkle {
      position: absolute;
      width: 10px;
      height: 10px;
      background: radial-gradient(circle, #fff 30%, transparent 70%);
      border-radius: 50%;
      opacity: 0;
      animation: sparkle 2s infinite ease-in-out;
      pointer-events: none;
    }

    @keyframes sparkle {
      0% { transform: scale(0); opacity: 0; }
      30% { transform: scale(1.4); opacity: 1; }
      70% { transform: scale(1); opacity: 0.8; }
      100% { transform: scale(0); opacity: 0; }
    }
    
    h1 { color: #ff4b91; font-size: 28px; margin-bottom: 10px; }
    h2 { color: #59a7ff; font-size: 22px; margin-top: 0; }
    
    .greeting-card {
      position: relative; 
      background: linear-gradient(160deg, #ffe0e6 0%, #e0f2ff 100%); 
      border-radius: 20px;
      padding: 20px 30px;
      box-shadow: 0 8px 30px rgba(255, 182, 193, 0.6); 
      width: 90%;
      max-width: 650px;
      margin-bottom: 25px; 
      overflow: hidden; 
    }
    .greeting-card::before {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      background: linear-gradient(45deg, #ff6b81, #ff9ecd, #a1c4fd, #8fd3f4, #ff6b81);
      background-size: 400% 400%;
      z-index: -1;
      border-radius: 25px; 
      opacity: 0.8;
      filter: blur(8px);
      animation: animatedBorder 8s ease infinite;
    }
    @keyframes animatedBorder {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    .greeting-card h1 {
      font-size: 32px; 
      margin-bottom: 8px;
      color: #ff4b91; 
      background: none;
      -webkit-background-clip: unset;
      -webkit-text-fill-color: unset;
      background-clip: unset;
      background-size: unset;
      animation: none;
      text-shadow: none; 
      line-height: 1.2;
    }
    
    .greeting-card h2 {
      font-size: 24px; 
      margin-top: 5px;
      color: #3f9bff; 
      text-shadow: 0 1px 3px rgba(0,0,0,0.1); 
    }

    .quote-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 240, 245, 0.8));
      border: 1px solid #fde7f0;
      border-radius: 15px;
      padding: 20px 25px;
      margin-top: 30px;
      width: 80%;
      max-width: 600px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    }
    .quote-text {
      font-size: 18px;
      color: #777;
      margin: 0;
      font-style: italic;
      line-height: 1.5;
    }
    
    .reveal-text {
        opacity: 0; 
        position: relative;
    }
    .reveal-text > span {
        display: inline-block;
        opacity: 0;
        transform: translateY(20px);
        animation: revealLetter 0.5s cubic-bezier(0.215, 0.610, 0.355, 1) forwards;
    }
    @keyframes revealLetter {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }


    /* Layout Action Cards */
    .action-cards {
      display: flex;
      flex-wrap: wrap; 
      justify-content: center;
      gap: 15px;
      margin-top: 0; 
      margin-bottom: 30px; 
      max-width: 620px; 
    }
    
    .action-btn {
      border: none;
      border-radius: 20px;
      color: white;
      font-family: "Comic Sans MS", cursive, sans-serif;
      font-size: 14px;
      font-weight: bold;
      width: 140px;
      height: 120px;
      padding: 15px 10px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      text-shadow: 0 1px 3px rgba(0,0,0,0.2);
      animation: buttonPulseSubtle 3s infinite ease-in-out;
    }
    
    .action-btn:nth-child(1) { animation-delay: 0s; }
    .action-btn:nth-child(2) { animation-delay: 0.3s; }
    .action-btn:nth-child(3) { animation-delay: 0.6s; }


    .action-btn:hover {
      transform: scale(1.05) translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      animation-play-state: paused; 
    }
    
    @keyframes buttonPulseSubtle {
      0%, 100% { box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
      50% { box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); }
    }

    .action-btn .emoji-icon {
      font-size: 40px; 
      line-height: 1;
      margin-bottom: 5px; 
    }
    .action-btn .button-text {
      font-size: 14px;
      line-height: 1.2;
    }
    
    .action-btn:nth-child(1) { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
    .action-btn:nth-child(2) { background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%); }
    .action-btn:nth-child(3) { background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); }
    
    
    /* Modal (Popup) Styling */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s;
    }
    .modal-overlay.visible {
      opacity: 1;
      visibility: visible;
    }
    
    .modal-content {
      background: linear-gradient(160deg, #ffffff 0%, #fefefe 100%);
      padding: 25px;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      position: relative;
      max-height: 85vh;
      overflow-y: auto;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      transform: translateY(-50px) scale(0.98);
      transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    .modal-overlay.visible .modal-content {
      transform: translateY(0) scale(1);
    }
    
    .modal-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 28px;
      font-weight: bold;
      color: #aaa;
      cursor: pointer;
    }
    .modal-close:hover {
      color: #333;
    }
    
    .modal-content h2 {
      color: #ff4b91;
      border-bottom: 3px solid #fde7f0;
      padding-bottom: 10px;
      margin-top: 5px;
    }
    
    /* Galeri Foto (GRID) di halaman utama */
    .gallery-text {
        font-size: 18px;
        color: #ff4b91;
        font-weight: bold;
        text-shadow: 0 1px 3px rgba(255,255,255,0.5);
        margin-top: 40px; 
        margin-bottom: 15px;
        text-align: center;
        line-height: 1.5;
    }
    .photos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px; 
      margin-top: 20px;
      justify-items: center;
      width: 100%;
      max-width: 900px; 
    }
    
    .photos-grid figure {
        margin: 0;
        padding: 10px; 
        box-sizing: border-box;
        background: linear-gradient(135deg, #ffebee, #e3f2fd, #fce4ec, #e8eaf6);
        border: 1px solid #ffccdd; 
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(255, 182, 193, 0.4); 
        /* üåü PERUBAHAN: Transisi diperhalus dan diatur untuk fade-in/out */
        transition: box-shadow 0.3s ease, 
                    transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1), 
                    opacity 0.6s ease-out;
        overflow: hidden; 
        width: 100%;
        cursor: pointer;
        
        /* Status awal untuk fade-in */
        opacity: 0;
        transform: translateY(30px);
    }
    /* Status saat terlihat (fade-in) */
    .photos-grid figure.is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    .photos-grid figure:hover {
        transform: translateY(-3px); 
        box-shadow: 0 8px 20px rgba(255, 158, 205, 0.6), 0 0 15px rgba(180, 220, 255, 0.4); 
    }
    
    .photos-grid img {
      width: 100%;
      height: auto;
      aspect-ratio: 1/1; 
      object-fit: cover; 
      display: block; 
      border-radius: 8px; 
    }
    
    .photos-grid figcaption {
        position: static; 
        transform: none; 
        opacity: 1; 
        background: transparent; 
        padding: 10px 5px 0 5px; 
        font-size: 13px;
        color: #555; 
        font-weight: bold;
        text-align: center;
        line-height: 1.3;
    }

    /* Style untuk "Surat Ucapan" */
    .wish-letter {
      font-size: 17px;
      color: #333; 
      text-align: left;
      line-height: 1.7; 
      white-space: pre-wrap;
      background: #fffafb; 
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #fde7f0; 
      box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
      margin-top: 15px;
    }
    
    /* Desain Playlist */
    .playlist {
      list-style-type: none;
      padding-left: 0;
      text-align: left;
    }
    .playlist li {
      font-size: 16px;
      color: #333;
      padding: 12px 15px;
      border-radius: 8px;
      margin-bottom: 8px;
      background: #f9f9f9;
      display: flex;
      align-items: center;
      transition: background-color 0.2s;
    }
    .playlist li:hover {
      background-color: #f0f0f0;
    }
    .playlist li::before {
      content: 'üéµ';
      margin-right: 12px;
      font-size: 18px;
      opacity: 0.8;
    }
    
    /* Desain Voucher (Tiket Sobek) */
    .voucher-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 15px;
    }
    .voucher {
      background: #fff8f9;
      border-radius: 10px;
      padding: 20px;
      font-size: 16px;
      font-weight: bold;
      color: #d9534f;
      position: relative;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .voucher::before {
      content: '';
      position: absolute;
      top: 0;
      left: -5px; 
      bottom: 0;
      width: 10px;
      background: radial-gradient(circle at 0 10px, transparent 4px, #fff8f9 5px) repeat-y;
      background-size: 10px 20px;
    }
    .voucher::after {
      content: '';
      position: absolute;
      top: 0;
      right: -5px; 
      bottom: 0;
      width: 10px;
      background: radial-gradient(circle at 10px 10px, transparent 4px, #fff8f9 5px) repeat-y;
      background-size: 10px 20px;
    }
    
    .closing-card {
      background: #fffafb;
      border: 1px solid #fde7f0;
      border-radius: 15px;
      padding: 15px 25px;
      margin-top: 30px;
      max-width: 600px;
      width: 90%; 
      box-sizing: border-box; 
      box-shadow: 0 4px 10px rgba(255, 182, 193, 0.2);
      text-align: center;
      font-size: 17px;
      color: #555;
      line-height: 1.6;
    }
    .closing-card p {
      margin: 0;
    }
    

    /* Styling untuk Lightbox Galeri */
    .lightbox-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s;
    }
    .lightbox-overlay.visible {
      opacity: 1;
      visibility: visible;
    }
    .lightbox-image {
      max-width: 90vw;
      max-height: 80vh;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
    }
    .lightbox-close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 40px;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      line-height: 1;
    }
    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: #fff;
      font-size: 30px;
      font-weight: bold;
      padding: 10px 15px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.2s;
    }
    .lightbox-nav:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    .lightbox-nav.prev {
      left: 15px;
    }
    .lightbox-nav.next {
      right: 15px;
    }

  </style>
</head>
<body class="login-active">

  <div id="preloader">
    <div class="heart-loader">üíñ</div>
    <p class="loader-text">Mempersiapkan kejutan...</p>
  </div>

  <canvas id="interactiveBgCanvas"></canvas> 
  <div class="birthday-pattern-overlay"></div>

  <ul class="background-balloons">
    <li></li> <li></li> <li></li> <li></li> <li></li>
    <li></li> <li></li> <li></li>
  </ul>

  <div id="login" class="card">
    <h1><span class="emoji-spin">üéÄ</span> Halo! <span class="emoji-spin">üéÄ</span></h1>
    <p>Masukkan nama & tanggal ulang tahun ya üíï</p>
    <input type="text" id="name" placeholder="Nama lengkap">
    <input type="text" id="birthday" placeholder="Tanggal (dd-mm-yyyy)">
    <p id="error-msg" class="error-msg"></p>
    <button onclick="checkBirthday()">Masuk üéÅ</button>
  </div>

  <div id="giftPage" class="hidden">
    <h1>Hai Elza üíñ</h1>
    <p>Klik kadonya untuk membuka kejutan üéÇ</p>
    <img id="giftImage" src="kado.png" alt="Kado Ulang Tahun" class="gift" onclick="explodeGift()">
    <p class="gift-prompt">Klik Aku! üíñ</p>
  </div>

  <div id="surprise" class="hidden">
    
    <div class="greeting-card fade-in-item" style="animation-delay: 0.1s;">
      <h1 class="reveal-text" id="main-greeting">‚ú® Selamat Ulang Tahun, Elza Savira<span style="display: block;">Chairani Zakaria</span> ‚ú®</h1>
      <h2>26 Oktober 2025</h2>
    </div>

    <div class="action-cards fade-in-item" style="animation-delay: 0.3s;">
      <button class="action-btn" onclick="showModal('modal-wish')">
        <span class="emoji-icon">üíñ</span><span class="button-text">Ucapan Ulang Tahun</span>
      </button>
      <button class="action-btn" onclick="showModal('modal-playlist')">
        <span class="emoji-icon">üé∂</span><span class="button-text">Lagu Buat Cantikku</span>
      </button>
      <button class="action-btn" onclick="showModal('modal-voucher')">
        <span class="emoji-icon">üéÅ</span><span class="button-text">Voucher Dating Nanti Waktu Ketemu</span>
      </button>
    </div>

    <div class="cake-container fade-in-item" id="cakeContainer" style="animation-delay: 0.5s;">
      <div class="flame"></div>
      <img id="cakeImage" src="kue.png" alt="Kue Ulang Tahun" class="cake">
    </div>

    <div class="quote-card fade-in-item" style="animation-delay: 0.7s;">
      <p class="quote-text">
        "Semoga hari ini menjadi awal dari tahun yang penuh keajaiban dan cinta!"
      </p>
    </div>
    
    <p class="gallery-text fade-in-item" style="animation-delay: 0.9s;">
      Setiap momen bersamamu adalah kenangan indah...
    </p>

    <div class="photos-grid fade-in-item" style="animation-delay: 1.1s;">
      <figure>
        <img src="foto 1.jpeg" alt="Foto 1">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 2.jpeg" alt="Foto 2">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 3.jpeg" alt="Foto 3">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 4.jpeg" alt="Foto 4">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 5.jpeg" alt="Foto 5">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 6.jpeg" alt="Foto 6">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 7.jpeg" alt="Foto 7">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 8.jpeg" alt="Foto 8">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 9.jpeg" alt="Foto 9">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 10.jpeg" alt="Foto 10">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 11.jpeg" alt="Foto 11">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 12.jpeg" alt="Foto 12">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 13.jpeg" alt="Foto 13">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 14.jpeg" alt="Foto 14">
        <figcaption>foto ayang</figcaption>
      </figure>
      <figure>
        <img src="foto 15.jpeg" alt="Foto 15">
        <figcaption>foto ayang</figcaption>
      </figure>
    </div>

    <div class="closing-card fade-in-item" style="animation-delay: 1.3s;">
      <p>
        Masih banyak lagi cerita kita yang akan terukir. üíñ Aku tak sabar menunggu semuanya!
      </p>
    </div>
    
  </div>

  <div id="modal-wish" class="modal-overlay hidden" onclick="closeModal('modal-wish', event)">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('modal-wish')">&times;</span>
      <h2>Untuk Elza Tersayang...</h2>
      <p class="wish-letter">
Selamat ulang tahun ya, sayang!

Semoga di hari yang spesial ini, kamu dikelilingi oleh semua cinta, tawa, dan kebahagiaan di dunia. Kamu adalah orang yang luar biasa, dan aku sangat bersyukur memilikimu.

Semoga semua impian dan cita-citamu tercapai. Aku akan selalu ada di sini untuk mendukungmu, di setiap langkahmu.

Love you always üíï
      </p>
    </div>
  </div>

  <div id="modal-playlist" class="modal-overlay hidden" onclick="closeModal('modal-playlist', event)">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('modal-playlist')">&times;</span>
      <h2>Playlist Hari Ini üéß</h2>
      <ul class="playlist">
        <li>"Lover" - Taylor Swift</li>
        <li>"A Thousand Years" - Christina Perri</li>
        <li>"Sempurna" - Andra and The BackBone</li>
        <li>"Here's Your Perfect" - Jamie Miller</li>
        <li>"Satu-satunya" - HIVI!</li>
        <li>"Sahabat Dulu" - Prinsa Mandagie</li>
        <li>"Tak Ingin Usai" - Keisya Levronka</li>
      </ul>
      <p style="text-align:center; margin-top:15px;">...dan semua lagu yang mengingatkanku padamu!</p>
    </div>
  </div>

  <div id="modal-voucher" class="modal-overlay hidden" onclick="closeModal('modal-voucher', event)">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('modal-voucher')">&times;</span>
      <h2>Voucher Dating Spesial üéüÔ∏è</h2>
      <div class="voucher-list">
        <div class="voucher">Jatah 1x Traktiran Es Krim (Bebas Pilih!)</div>
        <div class="voucher">Jatah 1x Nonton Film di Bioskop (Kamu yang Pilih Film)</div>
        <div class="voucher">Jatah 1x Jalan-jalan Seharian (Tanpa Ngeluh!)</div>
        <div class="voucher">Jatah 1x Ditemenin Belanja</div>
      </div>
      <p style="text-align:center; margin-top:15px; font-size: 14px; color: #888;">*Berlaku selamanya, tidak bisa diuangkan, dan harus diklaim ya! üòâ</p>
    </div>
  </div>
  
  <div id="lightbox" class="lightbox-overlay hidden" onclick="closeLightbox(event)">
    <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
    <img src="" class="lightbox-image" alt="Foto Galeri Dibesarkan">
    <button class="lightbox-nav prev" onclick="showPrevImage()">‚óÑ</button>
    <button class="lightbox-nav next" onclick="showNextImage()">‚ñ∫</button>
  </div>


  <script>
    window.addEventListener('load', () => {
      const preloader = document.getElementById('preloader');
      preloader.style.opacity = '0';
      setTimeout(() => {
        preloader.style.display = 'none';
      }, 500); 
    });
  
    function checkBirthday() {
      const name = document.getElementById("name").value.trim().toLowerCase();
      const birthday = document.getElementById("birthday").value.trim();
      const correctName = "elza savira chairani zakaria";
      const correctBirthday = "26-10-2025";
      
      const loginPage = document.getElementById("login");
      const giftPage = document.getElementById("giftPage");
      const errorMsg = document.getElementById("error-msg");

      if (name === correctName && birthday === correctBirthday) {
        errorMsg.classList.remove("visible");
        
        loginPage.style.opacity = '0';
        loginPage.style.transform = 'scale(0.95)';
        document.body.classList.remove('login-active'); 

        setTimeout(() => {
          loginPage.classList.add("hidden");
          giftPage.classList.remove("hidden");

          setTimeout(() => {
            giftPage.style.opacity = '1';
            giftPage.style.transform = 'scale(1)';
          }, 20);

        }, 500);
        
      } else {
        errorMsg.textContent = "Coba isi nama & tanggal yang benar ya üíï";
        errorMsg.classList.add("visible");
        loginPage.classList.add("shake");
        setTimeout(() => {
          loginPage.classList.remove("shake");
        }, 500);
      }
    }

    function explodeGift() {
      const gift = document.getElementById("giftImage");
      gift.style.animation = "none"; 
      
      const rect = gift.getBoundingClientRect();
      const originX = (rect.left + rect.width / 2) / window.innerWidth;
      const originY = (rect.top + rect.height / 2) / window.innerHeight;

      confetti({
        particleCount: 250, 
        spread: 120, 
        origin: { x: originX, y: originY },
        startVelocity: 70, 
        decay: 0.9,
        colors: ["#ff9ecd", "#9cd4ff", "#fff5a5", "#ffffff", "#ff4b91", "#84fab0"]
      });

      const duration = 2500; 
      const end = Date.now() + duration;

      (function frame() {
        confetti({
          particleCount: 3,
          startVelocity: 40,
          spread: 60,
          origin: { x: 0, y: 0.7 },
          colors: ["#ff9ecd", "#9cd4ff"]
        });
        confetti({
          particleCount: 3,
          startVelocity: 40,
          spread: 60,
          origin: { x: 1, y: 0.7 },
          colors: ["#ff9ecd", "#9cd4ff"]
        });
        
        if (Math.random() < 0.1) { 
             confetti({
                particleCount: 50,
                startVelocity: 30,
                spread: 100,
                origin: { x: Math.random(), y: Math.random() * 0.5 }, 
                colors: ["#fff5a5", "#ff9a9e", "#a1c4fd"],
                decay: 0.92,
                scalar: 0.8
            });
        }

        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      }());


      setTimeout(() => {
        const giftPage = document.getElementById("giftPage");
        const surprisePage = document.getElementById("surprise");
        
        giftPage.style.opacity = '0';
        giftPage.style.transform = 'scale(0.95)';

        setTimeout(() => {
          giftPage.classList.add("hidden");
          surprisePage.classList.remove("hidden");

          setTimeout(() => {
            surprisePage.style.opacity = '1';
            surprisePage.style.transform = 'scale(1)';
            
            document.querySelectorAll('.fade-in-item').forEach((item, index) => {
                item.style.animationDelay = `${index * 0.2}s`;
                item.style.animationName = 'none'; 
                requestAnimationFrame(() => {
                    item.style.animationName = 'fadeInUp';
                });
            });

            animateTextReveal('main-greeting');
            
            // üåü PERUBAHAN: Setup scroll-reveal untuk galeri setelah halaman muncul
            setupScrollObserver();

          }, 20);

          addSparkles();
        }, 500);

      }, duration - 500); 
    }

    function addSparkles() {
      const container = document.getElementById("cakeContainer");
      if (container.querySelectorAll('.sparkle').length > 0) return; 

      for (let i = 0; i < 20; i++) {
        const sparkle = document.createElement("div");
        sparkle.classList.add("sparkle");
        sparkle.style.left = `${Math.random() * 100}%`;
        sparkle.style.top = `${Math.random() * 100}%`;
        sparkle.style.animationDelay = `${Math.random() * 2}s`;
        container.appendChild(sparkle);
      }
    }
    
    function animateTextReveal(elementId) {
        const greeting = document.getElementById(elementId);
        if (greeting.classList.contains('animated')) return;
        greeting.classList.add('animated'); 

        const textContent = greeting.innerHTML; 
        greeting.innerHTML = ''; 
        greeting.style.opacity = 1; 

        const parts = textContent.split(/(<[^>]+>)/); 
        let delayIndex = 0;

        parts.forEach((part) => {
            if (part.startsWith('<')) {
                greeting.innerHTML += part;
            } else {
                part.split('').forEach((char) => {
                    const span = document.createElement('span');
                    span.innerText = char === ' ' ? '\u00A0' : char; 
                    span.style.animationDelay = `${delayIndex * 0.05}s`; 
                    greeting.appendChild(span);
                    delayIndex++;
                });
            }
        });
    }


    // Fungsi untuk Modal (Ucapan, Playlist, Voucher)
    function showModal(modalId) {
      const modal = document.getElementById(modalId);
      modal.classList.remove("hidden");
      setTimeout(() => {
        modal.classList.add("visible");
      }, 10);
    }
    
    function closeModal(modalId, event) {
      if (event && event.target.id !== modalId && event.target.classList.contains('modal-content')) {
        return; 
      }
      
      const modal = document.getElementById(modalId);
      modal.classList.remove("visible");
      
      setTimeout(() => {
        modal.classList.add("hidden");
      }, 300);
    }

    // Jejak Kursor
    document.addEventListener('mousemove', function(e) {
        let sparkle = document.createElement('div');
        sparkle.className = 'sparkle-trail';
        document.body.appendChild(sparkle);
        
        sparkle.style.left = e.pageX + 'px';
        sparkle.style.top = e.pageY + 'px';
        
        setTimeout(() => {
            sparkle.remove();
        }, 500); 
    });

    // Background Interaktif (Hati & Bintang)
    const canvas = document.getElementById('interactiveBgCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const colors = ['#ffb6c1', '#b3e5fc', '#fff5a5', '#ff9a9e', '#c2e9fb', '#84fab0'];

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }

    class Particle {
        constructor(x, y, radius, color, velocity) {
            this.x = x;
            this.y = y;
            this.radius = radius;
            this.color = color;
            this.velocity = velocity;
            this.alpha = 1;
            this.shape = Math.random() > 0.5 ? 'üíñ' : '‚ú®';
        }

        draw() {
            ctx.save();
            ctx.globalAlpha = this.alpha;
            ctx.font = `${this.radius * 2.5}px "Comic Sans MS"`;
            ctx.fillText(this.shape, this.x, this.y);
            ctx.restore();
        }

        update() {
            this.x += this.velocity.x;
            this.y += this.velocity.y;
            this.alpha -= 0.008; 
            this.radius -= 0.03; 

            if (this.radius < 0.1) { 
                this.alpha = 0;
            }
            this.draw();
        }
    }

    function createParticle(x, y) {
        const radius = Math.random() * 6 + 4; 
        const color = colors[Math.floor(Math.random() * colors.length)];
        const angle = Math.random() * Math.PI * 2;
        const velocity = {
            x: Math.cos(angle) * (Math.random() * 1 - 0.5), 
            y: Math.sin(angle) * (Math.random() * 1 - 0.5) - 0.5 
        };
        particles.push(new Particle(x, y, radius, color, velocity));
    }

    function animateParticles() {
        requestAnimationFrame(animateParticles);
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (Math.random() < 0.3) { 
            createParticle(Math.random() * canvas.width, canvas.height + 10); 
        }

        for (let i = particles.length - 1; i >= 0; i--) {
            const particle = particles[i];
            particle.update();

            if (particle.alpha <= 0 || particle.radius <= 0.1 || particle.y < -particle.radius) {
                particles.splice(i, 1);
            }
        }
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    animateParticles();

    
    // Variabel dan fungsi untuk Lightbox
    let currentImageIndex = 0;
    let galleryImagesSrc = [];
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = lightbox.querySelector('.lightbox-image');
    const lightboxNavPrev = lightbox.querySelector('.lightbox-nav.prev');
    const lightboxNavNext = lightbox.querySelector('.lightbox-nav.next');

    function openLightbox(index) {
        currentImageIndex = index;
        lightboxImage.src = galleryImagesSrc[currentImageIndex];
        lightbox.classList.add('visible');
        updateLightboxNav();
    }

    function closeLightbox(event) {
        if (!event || event.target === lightbox || event.target.classList.contains('lightbox-close')) {
            lightbox.classList.remove('visible');
        }
    }

    function updateLightboxNav() {
        lightboxNavPrev.style.display = (currentImageIndex === 0) ? 'none' : 'block';
        lightboxNavNext.style.display = (currentImageIndex === galleryImagesSrc.length - 1) ? 'none' : 'block';
    }

    function showNextImage() {
        if (currentImageIndex < galleryImagesSrc.length - 1) {
            openLightbox(currentImageIndex + 1);
        }
    }
    function showPrevImage() {
        if (currentImageIndex > 0) {
            openLightbox(currentImageIndex - 1);
        }
    }
    
    // Variabel untuk Scroll-Reveal
    let scrollObserver = null;

    // üåü PERUBAHAN: Fungsi setupScrollObserver diperbarui
    function setupScrollObserver() {
        if (scrollObserver) {
            scrollObserver.disconnect();
        }

        const figures = document.querySelectorAll('.photos-grid figure');
        
        figures.forEach(figure => {
            figure.classList.remove('is-visible');
        });

        // üåü PERUBAHAN: Opsi diubah ke 'threshold: 0.1'
        scrollObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                // üåü PERUBAHAN: Logika if/else untuk fade-in dan fade-out
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                } else {
                    entry.target.classList.remove('is-visible'); // Ini akan memicu fade-out
                }
            });
        }, {
            threshold: 0.1 // Memicu saat 10% item terlihat/tersembunyi
        });

        figures.forEach(figure => {
            scrollObserver.observe(figure);
        });
    }


    // Setup event listener saat DOM siap
    document.addEventListener('DOMContentLoaded', () => {
        // Panggil setup scroll-reveal
        setupScrollObserver(); 
    
        const galleryFigures = document.querySelectorAll('.photos-grid figure');
        galleryImagesSrc = []; 
        
        galleryFigures.forEach((figure, index) => {
            // üåü BARU: Tambahkan delay transisi staggered untuk "percantik"
            // Ini akan membuat efek domino (0ms, 100ms, 200ms, 0ms, 100ms, ...)
            figure.style.transitionDelay = `${(index % 3) * 100}ms`;
            
            const img = figure.querySelector('img');
            galleryImagesSrc.push(img.src);
            
            figure.addEventListener('click', (e) => {
                e.stopPropagation(); 
                openLightbox(index);
            });
        });
        
        document.addEventListener('keydown', (e) => {
            if (lightbox.classList.contains('visible')) {
                if (e.key === 'ArrowRight') {
                    showNextImage();
                } else if (e.key === 'ArrowLeft') {
                    showPrevImage();
                } else if (e.key === 'Escape') {
                    closeLightbox();
                }
            }
        });
    });

  </script>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

</body>
</html>
